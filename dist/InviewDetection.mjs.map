{"version":3,"file":"InviewDetection.mjs","sources":["../src/index.js"],"sourcesContent":["export default class InviewDetection {\n\tconstructor(options = {}) {\n\t\t// Define default options\n\t\tthis.defaultOptions = {\n\t\t\telements: '[data-inview]',\n\t\t\tduration: 1,\n\t\t\tdelay: 0.4,\n\t\t\tstart: 'top 90%',\n\t\t\tease: 'power4',\n\t\t\tstagger: 0.095,\n\t\t\tanimationFrom: {\n\t\t\t\topacity: 0,\n\t\t\t\t'will-change': 'transform',\n\t\t\t\ty: 20,\n\t\t\t},\n\t\t\tanimationTo: {\n\t\t\t\topacity: 1,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t}\n\n\t\t// Merge default options with provided options\n\t\tthis.options = { ...this.defaultOptions, ...options }\n\n\t\t// Store ScrollTrigger instances\n\t\tthis.triggers = []\n\n\t\t// Initialize the class\n\t\tthis.init()\n\t}\n\n\t// Function to get a specific option\n\tgetOption(optionName) {\n\t\treturn this.options[optionName]\n\t}\n\n\t// Initialisation function\n\tinit() {\n\t\ttry {\n\t\t\t// Convert elements to an array and loop through each\n\t\t\tgsap.utils.toArray(this.getOption('elements')).forEach((parent, index) => {\n\t\t\t\t// Define array to hold animated elements\n\t\t\t\tlet animatedElements = []\n\n\t\t\t\t// If the parent doesn't have 'data-inview-scope' attribute,\n\t\t\t\t// add it to the animated elements\n\t\t\t\t// Otherwise, add scoped, child, and split elements\n\t\t\t\tif (!parent.hasAttribute('data-inview-scope')) {\n\t\t\t\t\tanimatedElements.push({ el: parent, order: parent.dataset.inviewOrder })\n\t\t\t\t} else {\n\t\t\t\t\tthis.addScopedElements(parent, animatedElements)\n\t\t\t\t\tthis.addChildElements(parent, animatedElements)\n\t\t\t\t\tthis.addSplitElements(parent, animatedElements)\n\t\t\t\t}\n\n\t\t\t\t// Order the animated elements based on their 'order' property\n\t\t\t\tthis.orderAnimatedElements(animatedElements)\n\n\t\t\t\t// Animate the elements\n\t\t\t\tthis.animateElements(parent, animatedElements, index)\n\t\t\t})\n\t\t} catch (error) {\n\t\t\t// Catch and log any errors\n\t\t\tconsole.error('Error initialising InviewDetection:', error)\n\t\t}\n\t}\n\n\t// Function to add scoped elements to the animatedElements array\n\taddScopedElements(parent, animatedElements) {\n\t\ttry {\n\t\t\t// If the parent has 'data-inview-scope' attribute,\n\t\t\t// add all elements defined in this attribute to the animatedElements array\n\t\t\tif (parent.dataset.inviewScope) {\n\t\t\t\tparent.querySelectorAll(':scope ' + parent.dataset.inviewScope).forEach((element) => {\n\t\t\t\t\tconst order = parseFloat(element.dataset.inviewOrder)\n\t\t\t\t\tanimatedElements.push({ el: element, order: order })\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t// Catch and log any errors\n\t\t\tconsole.error('Error adding scoped elements:', error)\n\t\t}\n\t}\n\n\t// Function to add child elements to the animatedElements array\n\taddChildElements(parent, animatedElements) {\n\t\ttry {\n\t\t\t// Add all elements with 'data-inview-child' attribute to the animatedElements array\n\t\t\tparent.querySelectorAll(':scope [data-inview-child]').forEach((element) => {\n\t\t\t\tconst order = parseFloat(element.dataset.inviewOrder)\n\t\t\t\tanimatedElements.push({ el: element, order: order })\n\t\t\t})\n\t\t} catch (error) {\n\t\t\t// Catch and log any errors\n\t\t\tconsole.error('Error adding child elements:', error)\n\t\t}\n\t}\n\n\t// Function to find the closest parent with 'data-inview-order' attribute\n\tfindClosestParentOrderAttr(element) {\n\t\tlet parent = element.parentElement\n\t\tlet ancestorsIndexed = 0\n\t\tlet ancestorsLimit = 5\n\t\t// Iterate through parent elements up to ancestorsLimit\n\t\twhile (parent && ancestorsIndexed <= ancestorsLimit) {\n\t\t\tif (parent.hasAttribute('data-inview-order')) {\n\t\t\t\treturn parseFloat(parent.getAttribute('data-inview-order'))\n\t\t\t}\n\t\t\tparent = parent.parentElement\n\t\t\tancestorsIndexed++\n\t\t}\n\t\tif (element.hasAttribute('data-inview-order')) {\n\t\t\tconst value = element.getAttribute('data-inview-order')\n\t\t\treturn isNaN(+value) ? false : +value\n\t\t}\n\t\treturn false\n\t}\n\n\t// Function to add split elements to the animatedElements array\n\taddSplitElements(parent, animatedElements) {\n\t\tconst splitElements = parent.querySelectorAll(':scope *:where([data-inview-split])')\n\t\tconst splitElementsParent = Array.from(splitElements).filter((element) => element.dataset.inviewSplit)\n\t\tconst selfToSplit = Array.from(splitElements).filter((element) => !element.dataset.inviewSplit)\n\n\t\tlet elementsToSplit = [...selfToSplit, ...this.getSplitChildren(splitElementsParent)]\n\n\t\t// For each element to split, add it to the animatedElements array\n\t\telementsToSplit.forEach((splitElement) => {\n\t\t\t// If splitElement is a NodeList, handle each Node individually\n\t\t\tif (splitElement instanceof NodeList) {\n\t\t\t\tsplitElement.forEach((node) => this.addSplitElement(node, animatedElements))\n\t\t\t} else {\n\t\t\t\tthis.addSplitElement(splitElement, animatedElements)\n\t\t\t}\n\t\t})\n\t}\n\n\t// Function to get split children\n\tgetSplitChildren(splitElementsParent) {\n\t\tlet splitChildren = []\n\n\t\t// For each split parent, add its children to splitChildren array\n\t\tsplitElementsParent.forEach((splitParent) => {\n\t\t\tsplitChildren = [\n\t\t\t\t...splitChildren,\n\t\t\t\t...splitParent.querySelectorAll(':scope ' + splitParent.dataset.inviewSplit),\n\t\t\t]\n\t\t})\n\n\t\treturn splitChildren\n\t}\n\n\t// Function to add a split element to the animatedElements array\n\taddSplitElement(splitElement, animatedElements) {\n\t\ttry {\n\t\t\t// Check if splitElement is a DOM element\n\t\t\tif (splitElement instanceof Element) {\n\t\t\t\t// Find the closest parent with 'data-inview-order' attribute\n\t\t\t\tlet order = this.findClosestParentOrderAttr(splitElement)\n\n\t\t\t\t// Split the text of the splitElement into lines\n\t\t\t\tconst splitChildren = new SplitText(splitElement, {\n\t\t\t\t\ttype: 'lines',\n\t\t\t\t\tlinesClass: 'lineChild',\n\t\t\t\t})\n\n\t\t\t\t// For each line, add it to the animatedElements array\n\t\t\t\tsplitChildren.lines.forEach((line) => {\n\t\t\t\t\tif (order) {\n\t\t\t\t\t\torder += 0.01\n\t\t\t\t\t\tline.dataset.inviewOrder = order.toFixed(2)\n\t\t\t\t\t\tanimatedElements.push({\n\t\t\t\t\t\t\tel: line,\n\t\t\t\t\t\t\torder: order,\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tanimatedElements.push({\n\t\t\t\t\t\t\tel: line,\n\t\t\t\t\t\t\torder: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Log an error if splitElement is not a DOM element\n\t\t\t\tconsole.error('splitElement is not a DOM element:', splitElement)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t// Catch and log any errors\n\t\t\tconsole.error('Error splitting element:', error)\n\t\t}\n\t}\n\n\t// Function to order animated elements based on their 'order' property\n\torderAnimatedElements(animatedElements) {\n\t\tanimatedElements.sort((a, b) => {\n\t\t\treturn (a['order'] ?? 1) - (b['order'] ?? -1)\n\t\t})\n\n\t\t// Replace each animatedElement object with its corresponding element\n\t\tfor (let i = 0; i < animatedElements.length; i++) {\n\t\t\tanimatedElements[i] = animatedElements[i].el\n\t\t}\n\t}\n\n\t// Function to animate the elements\n\tanimateElements(parent, animatedElements, index) {\n\t\tlet animationFromProperties = this.getOption('animationFrom')\n\t\tlet animationToProperties = this.getOption('animationTo')\n\n\t\ttry {\n\t\t\t// Check if the parent has custom animation properties defined in 'data-inviewFrom' and 'data-inviewTo'\n\t\t\tif (parent.dataset.inviewFrom) {\n\t\t\t\tanimationFromProperties = JSON.parse(parent.dataset.inviewFrom)\n\t\t\t}\n\n\t\t\tif (parent.dataset.inviewTo) {\n\t\t\t\tanimationToProperties = JSON.parse(parent.dataset.inviewTo)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t// Catch and log any errors\n\t\t\tconsole.error('Error parsing JSON', error)\n\t\t}\n\n\t\t// Set initial animation properties for the animated elements\n\t\tgsap.set(animatedElements, animationFromProperties)\n\n\t\t// Create a ScrollTrigger instance for the parent element\n\t\tconst trigger = ScrollTrigger.create({\n\t\t\ttrigger: parent,\n\t\t\tstart: parent.dataset.inviewStart || this.getOption('start'),\n\t\t\tonEnter: async () => {\n\t\t\t\tawait this.runAnimation(parent, animatedElements, animationToProperties)\n\t\t\t},\n\t\t\tonEnterBack: async () => {\n\t\t\t\tif (parent.hasAttribute('data-inview-repeat')) {\n\t\t\t\t\tgsap.set(animatedElements, animationFromProperties)\n\t\t\t\t\tawait this.runAnimation(parent, animatedElements, animationToProperties)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonLeave: () => {\n\t\t\t\tif (parent.hasAttribute('data-inview-repeat')) {\n\t\t\t\t\tgsap.set(animatedElements, animationFromProperties)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonLeaveBack: () => {\n\t\t\t\tif (parent.hasAttribute('data-inview-repeat')) {\n\t\t\t\t\tgsap.set(animatedElements, animationFromProperties)\n\t\t\t\t}\n\t\t\t},\n\t\t\tmarkers: parent.hasAttribute('data-inview-debug') ? true : false,\n\t\t\ttoggleClass: {\n\t\t\t\ttargets: parent,\n\t\t\t\tclassName: 'is-inview',\n\t\t\t},\n\t\t})\n\n\t\t// Store the ScrollTrigger instance\n\t\tthis.triggers.push(trigger)\n\n\t\t// Debug mode\n\t\tif (parent.hasAttribute('data-inview-debug')) {\n\t\t\tthis.debugMode(parent, animatedElements, animationFromProperties, animationToProperties, index)\n\t\t}\n\t}\n\n\tasync runAnimation(parent, animatedElements, animationToProperties) {\n\t\ttry {\n\t\t\tawait gsap.to(animatedElements, {\n\t\t\t\t...animationToProperties,\n\t\t\t\tduration: parent.dataset.inviewDuration || this.getOption('duration'),\n\t\t\t\tdelay: parent.dataset.inviewDelay || this.getOption('delay'),\n\t\t\t\tease: parent.dataset.inviewEase || this.getOption('ease'),\n\t\t\t\tstagger: {\n\t\t\t\t\teach: parent.dataset.inviewStagger || this.getOption('stagger'),\n\t\t\t\t\tfrom: 'start',\n\t\t\t\t},\n\t\t\t})\n\t\t\tparent.classList.add('has-viewed')\n\t\t} catch (error) {\n\t\t\tconsole.error('Error animating elements:', error)\n\t\t}\n\t}\n\n\t// Function for debug mode logging\n\tdebugMode(parent, animatedElements, animationFromProperties, animationToProperties, index) {\n\t\tconsole.group(`InviewDetection() debug instance (${index + 1})`)\n\t\tconsole.log({\n\t\t\tparent: parent,\n\t\t\telements: animatedElements,\n\t\t\tanimationFrom: animationFromProperties,\n\t\t\tanimationTo: animationToProperties,\n\t\t\tduration: this.getOption('duration'),\n\t\t\tdelay: this.getOption('delay'),\n\t\t\tstart: this.getOption('start'),\n\t\t\tease: this.getOption('ease'),\n\t\t\tstagger: this.getOption('stagger'),\n\t\t})\n\t\tconsole.groupEnd()\n\t}\n\n\t// Function to refresh ScrollTrigger instances\n\trefresh() {\n\t\tScrollTrigger.refresh()\n\t}\n\n\t// Function to stop the animations and ScrollTrigger instances\n\tstop() {\n\t\t// Kill ScrollTrigger instances created in this script\n\t\tthis.triggers.forEach((st) => st.kill())\n\n\t\t// Kill all GSAP animations of the elements\n\t\tgsap.utils.toArray(this.getOption('elements')).forEach((element) => {\n\t\t\tgsap.killTweensOf(element)\n\t\t})\n\t}\n\n\t// Function to restart the animations and reinitialise everything\n\trestart() {\n\t\t// Kill all GSAP animations of the elements\n\t\tgsap.utils.toArray(this.getOption('elements')).forEach((element) => {\n\t\t\tgsap.killTweensOf(element)\n\t\t})\n\n\t\t// Reinitialise everything\n\t\tthis.init()\n\t}\n}\n"],"names":["InviewDetection","options","this","defaultOptions","elements","duration","delay","start","ease","stagger","animationFrom","opacity","y","animationTo","triggers","init","_proto","prototype","getOption","optionName","gsap","utils","toArray","forEach","parent","index","hasAttribute","_this","addScopedElements","animatedElements","addChildElements","addSplitElements","push","el","order","dataset","inviewOrder","orderAnimatedElements","animateElements","error","console","inviewScope","querySelectorAll","element","parseFloat","findClosestParentOrderAttr","parentElement","ancestorsIndexed","getAttribute","value","isNaN","_this2","splitElements","splitElementsParent","Array","from","filter","inviewSplit","selfToSplit","concat","getSplitChildren","splitElement","NodeList","node","addSplitElement","splitChildren","splitParent","Element","type","linesClass","lines","line","toFixed","sort","a","b","_a$order","_b$order","i","length","_this4","animationToProperties","inviewFrom","animationFromProperties","JSON","parse","inviewTo","set","ScrollTrigger","create","trigger","inviewStart","onEnter","Promise","resolve","_this3","runAnimation","e","reject","onEnterBack","_temp","then","onLeave","onLeaveBack","markers","toggleClass","targets","className","debugMode","_this5","body","recover","result","to","inviewDuration","inviewDelay","inviewEase","each","inviewStagger","classList","add","_temp2","group","log","groupEnd","refresh","stop","st","kill","killTweensOf","restart"],"mappings":"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"}